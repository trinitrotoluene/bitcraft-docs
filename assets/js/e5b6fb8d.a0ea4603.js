"use strict";(globalThis.webpackChunk_bitcraft_docs_website=globalThis.webpackChunk_bitcraft_docs_website||[]).push([[12849],{36493(e,t,n){n.d(t,{R:()=>a,x:()=>r});var i=n(82128);const o={},s=i.createContext(o);function a(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:t},e.children)}},44899(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"concepts/authentication","title":"Authentication","description":"Reading this blog post is a good introduction to SpacetimeDB Identity.","source":"@site/docs/concepts/authentication.md","sourceDirName":"concepts","slug":"/concepts/authentication","permalink":"/docs/concepts/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/trinitrotoluene/bitcraft-docs/tree/master/website/docs/concepts/authentication.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"SpacetimeDB","permalink":"/docs/concepts/spacetimedb"},"next":{"title":"Querying data","permalink":"/docs/concepts/querying-data"}}');var o=n(77900),s=n(36493);const a={sidebar_position:2},r="Authentication",c={},l=[{value:"User tokens",id:"user-tokens",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,o.jsxs)(t.p,{children:["Reading ",(0,o.jsx)(t.a,{href:"https://spacetimedb.com/blog/who-are-you",children:"this blog post"})," is a good introduction to SpacetimeDB ",(0,o.jsx)(t.code,{children:"Identity"}),"."]}),"\n",(0,o.jsx)(t.p,{children:"Broadly, when you sign in with a 3rd party service (e.g. a cool Log in with Discord) button, the service (Discord, Google, Facebook, etc.) will provide you with a signed JWT (JSON Web Token) (which proves that they issued it), along with some metadata like your account ID and maybe your name or email address."}),"\n",(0,o.jsx)(t.p,{children:"When you authenticate against SpacetimeDB, you can pass it any valid JWT and it will validate the signature - then it's up to the module author to write checks to enforce their authentication rules against the data in the token."}),"\n",(0,o.jsx)(t.p,{children:"SpacetimeDB will derive an Identity from the token you supplied - this is stable because instead of relying on the JWT (which can expire), the Identity is computed from the metadata within the JWT. When a new one is issued for your account, it will point at the same Identity in SpacetimeDB, module authors can safely use it as a kind of user ID."}),"\n",(0,o.jsx)(t.h2,{id:"user-tokens",children:"User tokens"}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsx)(t.p,{children:"If you have a developer program token, you can disregard what is noted here as these limitations are specific to user tokens."})}),"\n",(0,o.jsxs)(t.p,{children:["If you've followed the instructions in ",(0,o.jsx)(t.a,{href:"/docs/intro",children:"Getting started"})," you'll already be in possession of a valid JWT - this one is linked to your player identity which has some implications that are important to be aware of:"]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Signing in with a user token will log you out ingame","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"You can then log back in without signing out your application's session, but if your app is disconnected and reconnects you will be disconnected if you're ingame."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["The token is only able to log in to the region your player is currently in","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"If your player is in region 1, your token will only be able to sign in to region 1."}),"\n",(0,o.jsx)(t.li,{children:"Sessions are NOT terminated if your player switches regions, so teleporting between regions will allow you to open sessions in multiple regions using the same token. However, if those sessions disconnect they will not be able to reconnect due to the previous limitation."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["Tokens need to be associated with a valid steam AuthTicket, if you haven't logged in/played the game in 24 hours and the session is disconnected, reconnection attempts will fail","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["You can use something like ",(0,o.jsx)(t.a,{href:"https://github.com/infernap12/steam-auth",children:"this"})," to automate the process."]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);